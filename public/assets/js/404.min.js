const stackContainer=document.querySelector(".stack-container"),cardNodes=document.querySelectorAll(".card-container"),perspecNodes=document.querySelectorAll(".perspec"),perspec=document.querySelector(".perspec"),card=document.querySelector(".card");let counter=stackContainer.children.length;function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}card.addEventListener("animationend",function(){perspecNodes.forEach(function(e,t){e.classList.add("explode")})}),perspec.addEventListener("animationend",function(e){"explode"===e.animationName&&cardNodes.forEach(function(e,t){e.classList.add("pokeup"),e.addEventListener("click",function(){let t=[800,-800],n=t[Math.floor(Math.random()*t.length)],r=Math.floor(1e3*Math.random())-1e3;e.style.transform=`translate(${r}px, ${n}px) rotate(-540deg)`,e.style.transition="transform 1s ease, opacity 2s",e.style.opacity="0",0===--counter&&(stackContainer.style.width="0",stackContainer.style.height="0")});let n=randomIntFromInterval(5,10);for(let t=0;t<n;t++){let n=randomIntFromInterval(25,97);var r=document.createElement("li");r.classList.add("node-"+t),e.querySelector(".code ul").appendChild(r).setAttribute("style","--linelength: "+n+"%;"),0==t?e.querySelector(".code ul .node-"+t).classList.add("writeLine"):e.querySelector(".code ul .node-"+(t-1)).addEventListener("animationend",function(n){e.querySelector(".code ul .node-"+t).classList.add("writeLine")})}})});